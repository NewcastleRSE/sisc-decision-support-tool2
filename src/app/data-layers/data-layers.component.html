<div class="dataLayersList" style="display: flex; flex-direction: column; align-items: flex-end !important;">

  <!--      Each layer waits to display until the layers have loaded (i.e. they are no longer undefined)-->

  <!--        disability-->
  <button class="roundedButton mat-body-2" mat-flat-button
          style="background-color: #AAAAAA; cursor:default !important;"
          *ngIf="!disabilityDataVisible && (disabilityDataNcl===undefined) && (disabilityDataGates===undefined) ">
    Disability loading...
  </button>
  <button class="roundedButton mat-body-2" mat-flat-button color="accent"
          *ngIf="!disabilityDataVisible && (disabilityDataNcl!=undefined) && (disabilityDataGates!=undefined) "
          selected>
    <span (click)="toggleDisability()">Disability %/km<span class="sup">2</span></span> <span class="infoIcon"
                                                                                              (click)="dataInfo('dis')"><mat-icon>info</mat-icon></span>
  </button>

  <button class="roundedButton mat-body-2" mat-flat-button style="background-color: #019592;"
          *ngIf="disabilityDataVisible" selected>
      <span (click)="toggleDisability()"><mat-icon matPrefix fontSet="fa" fontIcon="fa-check"
                                                   style="margin-top:8px;"></mat-icon>
      Disability  %/km<span class="sup">2</span>      </span><span class="infoIcon" (click)="dataInfo('dis')"><mat-icon>info</mat-icon></span>
  </button>


  <button class="roundedButton defaultCursor" mat-flat-button *ngIf="disabilityDataVisible">
    <div style="display: flex; flex-direction: row;" class="list-horizontal">
      <div class="legendItem" *ngFor="let item of disabilityDataLegend">
        <mat-icon matPrefix fontSet="fa" fontIcon="fa-circle"
                  style="margin-top:8px; text-shadow: -1px 0 #000, 0 1px #000, 1px 0 #000, 0 -1px #000;"
                  [style.color]="item.colour"></mat-icon>
        <span style="font-size: small">{{item.title}}</span>
      </div>

    </div>
  </button>

  <!--IMD-->
  <button class="roundedButton mat-body-2" mat-flat-button
          style="background-color: #AAAAAA; cursor:default !important;"
          *ngIf="!IMDDataVisible && (IMDDataNcl===undefined) && (IMDDataGates===undefined) ">Index of multiple
    deprivation loading...
  </button>
  <button mat-flat-button color="accent" class="mat-body-2 roundedButton"
          *ngIf="!IMDDataVisible && (IMDDataNcl!=undefined) && (IMDDataGates!=undefined)" selected><span
    (click)="toggleIMD()">Index of multiple deprivation</span>
    <span class="infoIcon" (click)="dataInfo('imd')"><mat-icon>info</mat-icon></span></button>
  <button mat-flat-button style="background-color: #019592;" class="mat-body-2 roundedButton"
          *ngIf="IMDDataVisible" selected>
    <mat-icon matPrefix fontSet="fa" fontIcon="fa-check" style="margin-top:8px;"></mat-icon>
    <span (click)="toggleIMD()">Index of multiple deprivation</span><span class="infoIcon"
                                                                          (click)="dataInfo('imd')"><mat-icon>info</mat-icon></span>
  </button>
  <button mat-flat-button class="roundedButton defaultCursor" *ngIf="IMDDataVisible">
    <div>
      <span style="font-size: small">least deprived</span>
      <span class="legendItem" style="font-size: small; white-space:nowrap" *ngFor="let item of IMDLegend">
          <mat-icon matPrefix fontSet="fa" fontIcon="fa-circle"
                    style="margin-top:8px; text-shadow: -1px 0 #000, 0 1px #000, 1px 0 #000, 0 -1px #000;"
                    [style.color]="item.colour"></mat-icon>
          <span style="font-size: small">{{item.title}}</span>
        </span>
      <span style="font-size: small">most deprived</span>
    </div>
  </button>


  <!--Space syntax-->
  <!--      to movement-->
  <!--      todo inclulde gates in undefined check when included-->
  <button class="roundedButton mat-body-2" mat-flat-button
          style="background-color: #AAAAAA; cursor:default !important;"
          *ngIf="!toSSDataVisible && (toSSDataNcl===undefined) && (toSSDataGates===undefined) ">Potential 'to'
    movement loading...
  </button>
  <button mat-flat-button color="accent" class="mat-body-2 roundedButton"
          *ngIf="!toSSDataVisible && (toSSDataNcl!=undefined) " selected><span (click)="toggleToSSLayer()">Potential 'to' movement</span>
    <span class="infoIcon" (click)="dataInfo('space')"><mat-icon>info</mat-icon></span></button>
  <button mat-flat-button style="background-color: #019592;" class="mat-body-2 roundedButton"
          *ngIf="toSSDataVisible" selected>
    <mat-icon matPrefix fontSet="fa" fontIcon="fa-check" style="margin-top:8px;"></mat-icon>
    <span (click)="toggleToSSLayer()">Potential 'to' movement  </span><span class="infoIcon"
                                                                            (click)="dataInfo('space')"><mat-icon>info</mat-icon></span>
  </button>
  <button mat-flat-button class="roundedButton defaultCursor" *ngIf="toSSDataVisible">
    <div>
        <span class="legendItem" style="font-size: small; white-space:nowrap" *ngFor="let item of toSSLegend">
           <mat-icon matPrefix fontSet="fa" fontIcon="fa-circle"
                     style="margin-top:8px; text-shadow: -1px 0 #000, 0 1px #000, 1px 0 #000, 0 -1px #000;"
                     [style.color]="item.colour"></mat-icon>
          <span>{{item.title}}</span>
          </span>
    </div>

  </button>

  <!--      through movement-->
  <!--      todo add gates to undefined check when included-->
  <button class="roundedButton mat-body-2" mat-flat-button
          style="background-color: #AAAAAA; cursor:default !important;"
          *ngIf="!throughSSDataVisible && (throughSSDataNcl===undefined) && (throughSSDataGates===undefined) ">
    Potential 'through' movement loading...
  </button>
  <button mat-flat-button color="accent" class="mat-body-2 roundedButton"
          *ngIf="!throughSSDataVisible && (throughSSDataNcl!=undefined) " selected><span
    (click)="toggleThroughSSLayer()">Potential 'through' movement</span>
    <span class="infoIcon" (click)="dataInfo('space')"><mat-icon>info</mat-icon></span></button>
  <button mat-flat-button style="background-color: #019592;" class="mat-body-2 roundedButton"
          *ngIf="throughSSDataVisible" selected>
    <mat-icon matPrefix fontSet="fa" fontIcon="fa-check" style="margin-top:8px;"></mat-icon>
    <span (click)="toggleThroughSSLayer()">Potential 'through' movement</span>
    <span class="infoIcon" (click)="dataInfo('space')"><mat-icon>info</mat-icon></span></button>
  <button mat-flat-button class="roundedButton defaultCursor" *ngIf="throughSSDataVisible">
    <div>
        <span class="legendItem" style="font-size: small; white-space:nowrap" *ngFor="let item of throughSSLegend">
           <mat-icon matPrefix fontSet="fa" fontIcon="fa-circle"
                     style="margin-top:8px; text-shadow: -1px 0 #000, 0 1px #000, 1px 0 #000, 0 -1px #000;"
                     [style.color]="item.colour"></mat-icon>
          <span>{{item.title}}</span>
          </span>
    </div>

  </button>

  <!--UO sensors-->
  <button class="roundedButton mat-body-2" mat-flat-button
          style="background-color: #AAAAAA; cursor:default !important;"
          *ngIf="!uoDataVisible && (uoDataNcl===undefined) && (uoDataGates===undefined) ">Urban Observatory
    sensors loading...
  </button>

  <button mat-flat-button color="accent" class="mat-body-2 roundedButton"
          *ngIf="!uoDataVisible && (uoDataNcl!=undefined) && (uoDataGates!=undefined)" selected><span
    (click)="toggleUOSensors()">Urban Observatory sensors</span>
    <span class="infoIcon" (click)="dataInfo('uo')"><mat-icon>info</mat-icon></span></button>
  <button mat-flat-button style="background-color: #019592;" class="mat-body-2 roundedButton"
          *ngIf="uoDataVisible" selected>
    <mat-icon matPrefix fontSet="fa" fontIcon="fa-check" style="margin-top:8px;"></mat-icon>
    <span (click)="toggleUOSensors()"> Urban Observatory sensors</span><span class="infoIcon"
                                                                             (click)="dataInfo('uo')"><mat-icon>info</mat-icon></span>
  </button>
  <button mat-flat-button class="roundedButton defaultCursor" *ngIf="uoDataVisible">
    <div>
      <!--        <span class="legendItem" style="font-size: small; white-space:nowrap" *ngFor="let item of uoLegend">-->
      <!--           <mat-icon matPrefix fontSet="fa" fontIcon="fa-circle" style="margin-top:8px; text-shadow: -1px 0 #000, 0 1px #000, 1px 0 #000, 0 -1px #000;" [style.color]="item.colour" ></mat-icon>-->
      <!--          <span>{{item.title}}</span>-->
      <!--          </span>-->
    </div>

  </button>

  <!--Output areas-->
  <button class="roundedButton mat-body-2" mat-flat-button
          style="background-color: #AAAAAA; cursor:default !important;"
          *ngIf="!oaDataVisible && (oaNcl===undefined) && (oaGates===undefined) ">Output areas loading...
  </button>

  <button mat-flat-button color="accent" class="mat-body-2 roundedButton"
          *ngIf="!oaDataVisible && (oaNcl!=undefined) && (oaGates!=undefined)" selected>
    <span (click)="toggleOA()">Output areas</span><span class="infoIcon" (click)="dataInfo('oa')"><mat-icon>info</mat-icon></span>
  </button>
  <button mat-flat-button style="background-color: #019592;" class="mat-body-2 roundedButton"
          *ngIf="oaDataVisible" selected>
    <mat-icon matPrefix fontSet="fa" fontIcon="fa-check" style="margin-top:8px;"></mat-icon>
    <span (click)="toggleOA()">Output areas</span><span class="infoIcon" (click)="dataInfo('oa')"><mat-icon>info</mat-icon></span>
  </button>


  <!--Schools-->
  <!--      todo add gateshead when done to undefined test-->
  <button class="roundedButton mat-body-2" mat-flat-button
          style="background-color: #AAAAAA; cursor:default !important;"
          *ngIf="!schoolsDataVisible && (schoolsDataNcl===undefined) " disabled>Schools loading...
  </button>

  <button mat-flat-button color="accent" class="mat-body-2 roundedButton"
          *ngIf="!schoolsDataVisible && (schoolsDataNcl!=undefined) " selected><span (click)="toggleSchools()">Schools</span>
    <span class="infoIcon" (click)="dataInfo('schools')"><mat-icon>info</mat-icon></span></button>
  <button mat-flat-button style="background-color: #019592;" class="mat-body-2 roundedButton"
          *ngIf="schoolsDataVisible" selected>
    <mat-icon matPrefix fontSet="fa" fontIcon="fa-check" style="margin-top:8px;"></mat-icon>
    <span (click)="toggleSchools()">Schools</span><span class="infoIcon" (click)="dataInfo('schools')"><mat-icon>info</mat-icon></span>
  </button>
  <button mat-flat-button class="roundedButton defaultCursor" *ngIf="schoolsDataVisible">
    <div>
                    <span class="legendItem" style="font-size: small; white-space:nowrap">
                     <mat-icon matPrefix fontSet="fa" fontIcon="fa-circle"
                               style="margin-top:8px; text-shadow: -1px 0 #000, 0 1px #000, 1px 0 #000, 0 -1px #000;color: #DB2518; "></mat-icon>
                    <span>Primary and Middle</span>
                    </span>
      <span class="legendItem" style="font-size: small; white-space:nowrap">
                     <mat-icon matPrefix fontSet="fa" fontIcon="fa-circle"
                               style="margin-top:8px; text-shadow: -1px 0 #000, 0 1px #000, 1px 0 #000, 0 -1px #000;color: #ac5718; "></mat-icon>
                    <span>Secondary and Post 16</span>
                      </span>
    </div>

  </button>

  <!--Ages  and people-->
  <button class="roundedButton mat-body-2" mat-flat-button
          style="background-color: #AAAAAA; cursor:default !important;"
          *ngIf="!ageData1Visible && !ageData2Visible && !ageData3Visible && (ageData1Gates===undefined) && (ageData2Gates===undefined) && (ageData3Gates===undefined)">
    Age loading...
  </button>

  <div style="margin-right: 40px;"
       *ngIf="(ageData1Gates!=undefined) && (ageData2Gates!=undefined) && (ageData3Gates!=undefined)">
    <button *ngIf="!ageData1Visible" (click)="toggleAge1()" mat-flat-button color="accent"
            class="mat-body-2 roundedButton">Under 16s
    </button>
    <button *ngIf="ageData1Visible" style="background-color: #019592;" (click)="toggleAge1()" mat-flat-button
            color="accent" class="mat-body-2 roundedButton">
      <mat-icon matPrefix fontSet="fa" fontIcon="fa-check" style="margin-top:8px;"></mat-icon>
      Under 16s
    </button>
    <button *ngIf="!ageData2Visible" (click)="toggleAge2()" mat-flat-button color="accent"
            class="mat-body-2 roundedButton">16-65
    </button>
    <button *ngIf="ageData2Visible" style="background-color: #019592;" (click)="toggleAge2()" mat-flat-button
            color="accent" class="mat-body-2 roundedButton">
      <mat-icon matPrefix fontSet="fa" fontIcon="fa-check" style="margin-top:8px;"></mat-icon>
      16-65
    </button>
    <button *ngIf="!ageData3Visible" (click)="toggleAge3()" mat-flat-button color="accent"
            class="mat-body-2 roundedButton">Over 65s
    </button>
    <button *ngIf="ageData3Visible" style="background-color: #019592;" (click)="toggleAge3()" mat-flat-button
            color="accent" class="mat-body-2 roundedButton">
      <mat-icon matPrefix fontSet="fa" fontIcon="fa-check" style="margin-top:8px;"></mat-icon>
      Over 65s
    </button>
  </div>

  <div *ngIf="(ageData1Gates!=undefined) && (ageData2Gates!=undefined) && (ageData3Gates!=undefined)">
    <button *ngIf="!populationDataVisible" (click)="togglePopulation()" mat-flat-button color="accent"
            class="mat-body-2 roundedButton">Total population
    </button>
    <button *ngIf="populationDataVisible" style="background-color: #019592;" (click)="togglePopulation()"
            mat-flat-button color="accent" class="mat-body-2 roundedButton">
      <mat-icon matPrefix fontSet="fa" fontIcon="fa-check" style="margin-top:8px;"></mat-icon>
      Total population
    </button>
    <button *ngIf="!workersDataVisible" (click)="toggleWorkers()" mat-flat-button color="accent"
            class="mat-body-2 roundedButton">Workplace
    </button>
    <button *ngIf="workersDataVisible" style="background-color: #019592;" (click)="toggleWorkers()"
            mat-flat-button color="accent" class="mat-body-2 roundedButton">
      <mat-icon matPrefix fontSet="fa" fontIcon="fa-check" style="margin-top:8px;"></mat-icon>
      Workplace
    </button>
    <button style="min-width: 40px !important; background-color: transparent !important;" disabled mat-flat-button class="transparentBtn">
      <mat-icon (click)="dataInfo('age')" svgIcon="infoBackground" style="cursor: pointer !important;"
                aria-hidden="false"></mat-icon>
    </button>

  </div>


  <button mat-flat-button class="roundedButton defaultCursor"
          *ngIf="ageData1Visible || ageData2Visible || ageData3Visible || populationDataVisible || workersDataVisible">
    <div>
        <span class="legendItem" style="font-size: small; white-space:nowrap" *ngFor="let item of ageDataLegend">
           <mat-icon matPrefix fontSet="fa" fontIcon="fa-circle"
                     style="margin-top:8px; text-shadow: -1px 0 #000, 0 1px #000, 1px 0 #000, 0 -1px #000;"
                     [style.color]="item.colour"></mat-icon>
          <span>{{item.title}}</span>
          </span>
    </div>

  </button>


  <!--Ethnicity-->
  <!--      <button class="roundedButton mat-body-2" mat-flat-button style="background-color: #AAAAAA; cursor:default !important;" *ngIf="!whiteDataVisible && !mixedDataVisible && !ageData3Visible && (ageData1Gates===undefined) && (ageData2Gates===undefined) && (ageData3Gates===undefined)"  >Age loading...</button>-->

  <div style="margin-right: 40px;">
    <button *ngIf="!whiteDataVisible" (click)="toggleWhiteEthnicity()" mat-flat-button color="accent"
            class="mat-body-2 roundedButton">White
    </button>
    <button *ngIf="whiteDataVisible" style="background-color: #019592;" (click)="toggleWhiteEthnicity()"
            mat-flat-button color="accent" class="mat-body-2 roundedButton">
      <mat-icon matPrefix fontSet="fa" fontIcon="fa-check" style="margin-top:8px;"></mat-icon>
      White
    </button>
    <button *ngIf="!mixedEthnicityDataVisible" (click)="toggleMixedEthnicity()" mat-flat-button color="accent"
            class="mat-body-2 roundedButton">Mixed/ multiple ethnic groups
    </button>
    <button *ngIf="mixedEthnicityDataVisible" style="background-color: #019592;"
            (click)="toggleMixedEthnicity()" mat-flat-button color="accent" class="mat-body-2 roundedButton">
      <mat-icon matPrefix fontSet="fa" fontIcon="fa-check" style="margin-top:8px;"></mat-icon>
      Mixed/ multiple ethnic groups
    </button>
    <button *ngIf="!asianDataVisible" (click)="toggleAsianEthnicity()" mat-flat-button color="accent"
            class="mat-body-2 roundedButton">Asian/ Asian British
    </button>
    <button *ngIf="asianDataVisible" style="background-color: #019592;" (click)="toggleAsianEthnicity()"
            mat-flat-button color="accent" class="mat-body-2 roundedButton">
      <mat-icon matPrefix fontSet="fa" fontIcon="fa-check" style="margin-top:8px;"></mat-icon>
      Asian/ Asian British
    </button>
  </div>

  <div>
    <button *ngIf="!blackDataVisible" (click)="toggleBlackEthnicity()" mat-flat-button color="accent"
            class="mat-body-2 roundedButton">Black/ African/ Carribbean/ Black British
    </button>
    <button *ngIf="blackDataVisible" style="background-color: #019592;" (click)="toggleBlackEthnicity()"
            mat-flat-button color="accent" class="mat-body-2 roundedButton">
      <mat-icon matPrefix fontSet="fa" fontIcon="fa-check" style="margin-top:8px;"></mat-icon>
      Black/ African/ Carribbean/ Black British
    </button>
    <button *ngIf="!otherEthnicityDataVisible" (click)="toggleOtherEthnicity()" mat-flat-button color="accent"
            class="mat-body-2 roundedButton">Other ethnic group
    </button>
    <button *ngIf="otherEthnicityDataVisible" style="background-color: #019592;"
            (click)="toggleOtherEthnicity()" mat-flat-button color="accent" class="mat-body-2 roundedButton">
      <mat-icon matPrefix fontSet="fa" fontIcon="fa-check" style="margin-top:8px;"></mat-icon>
      Other ethnic group
    </button>
    <button style="min-width: 40px !important; background-color: transparent !important;" disabled mat-flat-button class="transparentBtn">
      <mat-icon (click)="dataInfo('eth')" svgIcon="infoBackground" style="cursor: pointer !important;"
                aria-hidden="false"></mat-icon>
    </button>

  </div>


  <button mat-flat-button class="roundedButton defaultCursor"
          *ngIf="whiteDataVisible || mixedEthnicityDataVisible || asianDataVisible || blackDataVisible || otherEthnicityDataVisible">
    <div>
        <span class="legendItem" style="font-size: small; white-space:nowrap" *ngFor="let item of ethnicityLegend">
           <mat-icon matPrefix fontSet="fa" fontIcon="fa-circle"
                     style="margin-top:8px; text-shadow: -1px 0 #000, 0 1px #000, 1px 0 #000, 0 -1px #000;"
                     [style.color]="item.colour"></mat-icon>
          <span>{{item.title}}</span>
          </span>
    </div>

  </button>
